# Консольний додаток "HELPER"

## **Опис проєкту**
Проєкт **"HELPER"** є віртуальним співрозмовником, котрий імітує діалог на теми базової шкільної програми та дає можливість отримати інформацію, котру хочу дізнатись користувач. Даний бот вміє відповідати на питання з таких **шкільних предметів (тем)**, як: 
* _Фізика;_
* _Математика;_
* _Географія;_
* _Філологія;_
* _Астрономія._

Також останім варіантом запитань є тема **"Загальні"**, яка містить в собі рішення простих життєвих завдань.
**Інтерфейс** програми є консольним та спроєктованим на базі мови програмування **Python** з використанням стандартних бібліотек. Проєкт запускається за допомогою файлу з розширеням **.exe**.
___

## **Характеристики програми**
1. Інтерфейс програми є **консольним**;
2. Мова інтерфейсу - **українська**;
3. Діалог візуально **розділений** за допомогою різного кольору тексту, затримок та ім'ям на початку тексту(*Bot_name, User_name*);
4. Програма завжди **зберігає діалог** з помічником у папку "*Dialogs*";
5. Проєкт опублікований на **Github**;
6. Код реалізований по принципу **DRY** (*Don't Repeat Yourself*) на **функційній парадигмі проєктування**.
___

## **Як користуватися** 
**Діалог** починається з привітань та ведення свого імені (user_name) для того, щоб помічник міг до вас звертатись, а також для візуального розділення тексту.

```
[Bot]: Вітаю, мене звати [HELPER].
[HELPER]: Я буду вам допомагати у вирішенні складних питань.
[HELPER]: Як можна до вас звертатись?
[User]: Юлія
[HELPER]: Добре, Юлія.
```

Далі бот надає вам **список тем** для розмови (див. опис). Користувач повинен обрати одну з тем, ввівши **повну назву предмету** (регістр не важливий).

```
[HELPER]: Добре, Юлія.
[HELPER]: Ви в будь-який момент можете написати команду "Допоможи" і дізнаєтесь як працювати зі мною. 
[HELPER]: Задайте мені питання з наступних предметів:
[HELPER]: Фізика, Математика, Географія, Філологія, Астрономія, Загальні.
[Юлія]: фізика
[HELPER]: Ви обрали тему "Фізика".
```

Якщо ви обрали предмет, якого не має в списку чи зробили **помилку** у слові - помічник не зрозуміє вас та надасть наступну спробу.

```
[HELPER]: Задайте мені питання з наступних предметів:
[HELPER]: Фізика, Математика, Географія, Філологія, Астрономія, Загальні.
[Юлія]: Програмування
[HELPER]: Щось не виходить, спробуй ще раз.
```

Або ж ви одразу можете написати команду **"Допоможи"**. Бот її зрозуміє та видасть інструкцію користування додатком. Використання команди доступно завжди.

```
[Юлія]: Допоможи
[HELPER]: Зараз у всьому розберемось Юлія...
[HELPER]: 1) Регістр вхідних даних неважливий!
2) Я використовую деякий час затримки
...
5) Якщо ви обрали не той предмет та хочете повернутись до головного меню - напишіть "Назад".
```
Наступним етапом, після коректного вибору теми є **переглядання запитань (підтеми)**. Ви маєте два варіанти вибору: за допомогою порядкового номеру або стислого слова, що характеризує питання.

```
[HELPER]: Ви обрали тему "Фізика".
[HELPER]: Ви можете задати мені питання з наступних тем:
[HELPER]: 1) Рівняння Гейзенберга невизначеності (рівняння)
2) Закон Стефана-Больцмана (закон)
3) Кулонівська стала (стала)
4) Повернутись назад (назад)
5)    ВИХІД
[Юлія]: 1
```

Далі потрібно ввести потрібні дані для розрахунків тієї чи іншої формули або ж просто отримати відповідь на своє запитання. Якщо щось трапилось не так і ви **помилились** - помічник відповість, що саме його не влаштовує і ви сможете повторити свою спробу, **не виходячи з додатку**.

```
[HELPER]: Δx×Δp >= h (Стала Планка h = 6,626 070 15 × 10^-34 Дж/с)
[HELPER]: Похибка вимірювання положення частинки Δx = 10/4
[HELPER]: Похибка має бути дійсним числом. Спробуйте ще раз.
```

Під час перебування в меню вибору запитань, ви можете написати **"Назад"** та повернутись до **головного меню**. Таким чином, ви зможете обрати іншу тему (шкільний предмет) для пошуку відповіді на ваше запитання.

```
[Юлія]: Назад
[HELPER]: Повертаємось до списку предметів...
[HELPER]: Добре, Юлія.
[HELPER]: Ви в будь-який момент можете написати команду "Допоможи" і дізнаєтесь як працювати зі мною. 
[HELPER]: Задайте мені питання з наступних предметів:
[HELPER]: Фізика, Математика, Географія, Філологія, Астрономія, Загальні.
```

У будь-який момент ви можете вийти з програми, написавши команду **"Вихід"**. Вона повністю завершить виконання програми.

```
[Юлія]: Вихід
[HELPER]: Дякую за спілкування. Гарного дня, Юлія.
```

>*Весь ваш діалог з помічником буде збережений в папку **"Dialogs"** у форматі **"dialog_Year-Month-Day_H-M-S"**.*
___

## **Технології проєкту**
Під час розробки проєкту використовувалась [**функційна парадигма програмування**](https://uk.wikipedia.org/wiki/Функційне_програмування). Функційна програма – набір визначень функцій. Функції визначаються через інші функції або рекурсивно через себе. При виконанні програми функції одержують аргументи, обчислюють та повертають результат, при необхідності обчислюючи значення інших функцій.

### **Сильні сторони функційного програмування:**

* _підвищення надійності коду;_
* _зручність організації модульного тестування;_
* _можливості оптимізації під час компіляції;_
* _можливості паралелізму._
___

### **Бібліотеки, що використовуються:**
1. **Colorama (init, Fore)** - кольоровий вивід тексту у термінал;
2.  **Random (choice)** - випадковий вибір фрази зі списку під час помилки;
3.  **Datetime (datetime)** - для збереження форматованої назви **.txt діалогу**;
4.  **Time (sleep)** - для невеликих затримок виведення інформації.

### **Головні види функцій:**
1. Шкільні предмети:
   - _physics();_
   - _math();_
   - _geography();_
   - _philology();_
   - _astronomy();_
   - _general()._
2. Запис інформації у **.txt** (вводу, виводу):
   - _get_user_input();_
   - _print_write(text)._
3. Вибір предметів через словник:
   - _choose_subjects()._
4. Загальні (інструкція, завершення, фрази):
   - _instruction();_
   - _goodbye();_
   - _random_phrase()._
___

## **Алгоритми головних функцій та їх реалізація**
___

### **Алгоритм _choose_subjects()_**
1. Вивід списку предметів;
2. Запит на введення теми;
3. Перевірка на коректне введення даних;
4. Словник переходу до функцій шкільних предметів (див. види фунцій).

**Реалізація словника переходу з методом .get():**

```python
return {'фізика': physics, 'математика': math,
        'географія': geography, 'філологія': philology,
        'астрономія': astronomy, 'загальні': general,
        'допоможи': instruction, 'вихід': goodbye}.get(subject)
```

>*Ця реалізація дозволяє **більш стисло** описати розподіл предметів, не використовуючи умовних операторів.*
___

### **Алгоритм _math()_ (шкільного предмету)**
1. Вивід списку можливих запитань;
2. Запит на введення теми запитання;
3. Перевірка на коректне введення даних;
4. Перехід до відповіді на запитання через умовний оператор "if-else";
5. Повернення тієї чи іншої функції в залежності від вибору користувача.

**Реалізація відповіді на запитання:**

```python
    if topic in ['формула', '1']:
        print_write(f'{name_bot}: d = √((x2 - x1)² + (y2 - y1)² + (z2 - z1)²)')
        try:
            x1, y1, z1 = map(int,
                             input(f'{name_bot}: Введіть координати першої точки через пробіл (x1 y1 z1) = ').split())
            x2, y2, z2 = map(int,
                             input(f'{name_bot}: Введіть координати другої точки через пробіл (x2 y2 z2) = ').split())
            print_write(f'{name_bot}: Відповідь: d = {((x2 - x1) ** 2 + (y2 - y1) ** 2 + (z2 - z1) ** 2) ** 0.5}')
            sleep(long)
            return math()
        except ValueError:
            print_write(f'{name_bot}:{Fore.LIGHTRED_EX} Помилка. Координати мають бути цілим числом. Спробуйте ще раз.')
            sleep(short)
            return math()
```

>*У даному випадку для переходу використовується умовний оператор "if-else" тому, що він робить код програми **більш читабельним** та **коротшим** завдяки своїй зрозумілій структурі.*

>*Всі інші функції, котрі знаходяться в типі "Шкільні предмети" мають схожу реалізацію.*
___
## **Алгоритми головних функцій та їх реалізація**
### **Алгоритм _get_user_input()_**
1. Введення інформації користувача;
2. Форматування;
3. Відкриття **.txt** файлу для для додавання та читання ('a');
4. Запис тексту до файлу через **write**;
5. Повернення вводу користувача.

**Реалізація функції:**

```python
def get_user_input():  # Функція записує вхідні дані у файл та повертає відформатоване введення даних
    user_input = input(Fore.LIGHTWHITE_EX + f'[{name_user}]: ').lower()
    with open(filename, 'a', encoding="utf-8") as f:
        f.write(f'[{name_user}]: {user_input}\n')
    return user_input
```
___

### **Алгоритм _print_write(text)_**
1. Передача даних функції (text);
2. Відкриття **.txt** файлу для для додавання та читання ('a');
3. Вивід відформатованого тексту в консоль;
4. Повернення запису тексту до файлу через **write**.

**Реалізація функції:**

```python
def print_write(text):  # Функція виконує дві дії поступово: виводить текст боту та повертає запис тексту у файл
    with open(filename, 'a', encoding="utf-8") as f:  # Відкриття текстового файлу для запису
        print(Fore.LIGHTBLUE_EX + text)
        return f.write(f'{text}\n')
```
___

## **Розширення списку тем**

Завдяки функційній парадигмі проєктування та добре вираженої структури програми вона має можливість **розширення списку тем**.

### **Головні теми**
Додавання головних тем може відбуватися за допомогою написання **функції** виду **"Шкільні предмети"** (*див. Види функцій*). Далі її потрібно записати до **словника** функції **choose_subjects()** у вигляді значення ключа, котрий подається як назва теми (*строковий тип даних)*.

### **Питання**
Додавання питань до головної теми відбувається за допомогою умовного оператору **"if-else"** всередині функції з повернення того чи іншого значення в залежності від вибору користувача.

>*Всі приклади алгоритмів головних функцій та код можна переглянути вище. Там ви знайдете як правильно побудувати нову функцію на додавання тем.*
